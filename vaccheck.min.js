javascript:(function(){function getId(c){var d=[].slice.call(c.querySelectorAll('.linkFriend_online, .linkFriend_offline, .friendCheckbox2, .friendCheckbox'));var e;d.forEach(function(a){if(!e){var b=a.href?a.href.match(/profiles\/(\d*)/):a.name.match(/friends\[(\d*)\]/);if(b){e=b[1]}}});return e}var g=[].slice.call(document.querySelectorAll('.friendHolder, .friendBlock'));var h={};g.forEach(function(a){var b=getId(a);if(!h[b]){h[b]=[]}h[b].push(a)});function setVacation(c,d,e){var f=h[c];f.forEach(function(a){var b=document.createElement('span');b.style.fontWeight='bold';b.style.display='block';if(d){b.style.color='rgb(255, 73, 73)';b.innerHTML=d+' VAC bans '+e+' days ago.'}else{b.style.color='rgb(43, 203, 64)';b.innerHTML='No VAC Bans for this player.'}a.querySelector('.friendSmallText').appendChild(b)})}function onData(b){if(b.readyState===XMLHttpRequest.DONE&&b.status===200){var c=JSON.parse(b.responseText);c.players.forEach(function(a){setVacation(a.SteamId,a.NumberOfVACBans,a.DaysSinceLastBan)})}}function makeApiCall(a){var b=new XMLHttpRequest();var c='https://api.steampowered.com/ISteamUser/GetPlayerBans/v1/?key=F6F90A461E30D38AB4AE8AADB5AD8658&steamids=';var d=c+a.join('/');b.onreadystatechange=function(){onData(b)};b.open('GET',d,true);b.send()}var i=Object.keys(h);while(i.length>0){var j=i.splice(0,100);makeApiCall(j)}})();
